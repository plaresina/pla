!function(e){e((function(){window.ht_ctc_admin_var&&window.ht_ctc_admin_var;localStorage.getItem("ht_ctc_admin")&&(ht_ctc_admin=localStorage.getItem("ht_ctc_admin"),ht_ctc_admin=JSON.parse(ht_ctc_admin));var t,_,n=function(){return!1},i=function(){return!1};try{document.addEventListener("ht_ctc_fn_all",(function(e){admin_ctc=e.detail.admin_ctc,e.detail.ctc_getItem,e.detail.ctc_setItem,n=e.detail.intl_init,i=e.detail.intl_onchange}))}catch(e){}e(document).on("click",".greetings_multi_agent_image",(function(t){t.preventDefault();var _,n=e(this).attr("data-agent"),i=e(".image_"+n);_&&_.open(),(_=wp.media({title:"Select Media",multiple:!1,library:{type:"image"}})).on("select",(function(){var e=_.state().get("selection").first();if(void 0===e)return!0;e=_.state().get("selection").first().toJSON(),image_url=e.url,image_id=e.id,i.find(".ht_ctc_pro_agent_field_agent_image_id").val(image_id),i.find(".ht_ctc_pro_agent_field_agent_image_url").val(image_url),i.find(".multi_agent_preview_image").attr("src",image_url),i.find(".multi_agent_preview_fallback_image").hide(),i.find(".multi_agent_preview_image").show(),i.find(".greetings_multi_agent_remove_image").show()})),_.on("open",(function(){var e=_.state().get("selection");void 0!==i.find(".ht_ctc_pro_agent_field_agent_image_id").val()&&i.find(".ht_ctc_pro_agent_field_agent_image_id").val().split(",").forEach((function(t){var _=wp.media.attachment(t);_.fetch(),e.add(_?[_]:[])}))})),_.open()})),e(document).on("click",".greetings_multi_agent_remove_image",(function(t){t.preventDefault();var _=e(this).attr("data-agent"),n=e(".image_"+_);n.find(".ht_ctc_pro_agent_field_agent_image_id").val(""),n.find(".ht_ctc_pro_agent_field_agent_image_url").val(""),n.find(".multi_agent_preview_image").hide(),n.find(".multi_agent_preview_fallback_image").show(),n.find(".greetings_multi_agent_remove_image").hide()})),e(document).on("click","#ctc_pro_license_button",(function(t){t.preventDefault();var _=e("#ctc_pro_license_key");messagebox=e(".ctc_pro_license_message"),btn=e("#ctc_pro_license_button"),btn_name=btn.attr("name"),btnval=btn.val(),getlicense=e(".ctc_get_license"),nonce=e("#ht_ctc_pro_nonce").val(),messagebox.hide();var n=_.val();if(""==n)return messagebox.html("Please Enter the License key!"),void messagebox.show(100);n=n.replace(/[^a-z0-9]/gi,"");var i="ctc_pro_activate_license";"ctc_pro_activate_btn"==btn_name?(i="ctc_pro_activate_license",btn.val("Activating...")):"ctc_pro_deactivate_btn"==btn_name&&(i="ctc_pro_deactivate_license",btn.val("Deactivating...")),btn.css("pointer-events","none"),e.ajax({url:ajaxurl,data:{action:i,key:n,ht_ctc_pro_nonce:nonce},type:"POST",success:function(t){!function(t){data=t.data,message=t.data.message,"Activated"==message?(e("#ctc_pro_activated").show(),_.hide(),btn.val("Deactivate License"),btn.attr("name","ctc_pro_deactivate_btn"),btn.removeClass("ctc_pro_activate_btn").addClass("ctc_pro_deactivate_btn"),messagebox.css("color","green"),getlicense.hide()):"Deactivated"==message?(e("#ctc_pro_activated").hide(),_.show(),btn.val("Activate License"),btn.attr("name","ctc_pro_activate_btn"),btn.removeClass("ctc_pro_deactivate_btn").addClass("ctc_pro_activate_btn"),messagebox.css("color","yellowgreen"),getlicense.show(500)):(btn.val(btnval),messagebox.css("color","red"),messagebox.html(message),messagebox.show(100),getlicense.show(500)),btn.css("pointer-events","auto")}(t)},error:function(){btn.val(btnval),btn.css("pointer-events","auto"),messagebox.css("color","red"),messagebox.html("Error: some thing wrong: please try again or please contact Us"),messagebox.show(100)}})})),t=e(".ctc_random_number_snippets .additional-number"),e(".add_number").click((function(){var _=t.clone();e(_).find("input").attr("name","ht_ctc_chat_options[r_nums][]"),e(_).find("input").attr("data-name","ht_ctc_chat_options[r_nums][]"),e(_).find("input").addClass("new_intl_number"),e(".ht_ctc_numbers").append(_),r()})),e(".ht_ctc_numbers").on("click",".remove_number",(function(t){t.preventDefault(),e(this).closest(".additional-number").remove()})),function(){"custom_url"==e(".url_structure_d").find(":selected").val()&&e(".custom_url_desktop").show();"custom_url"==e(".url_structure_m").find(":selected").val()&&e(".custom_url_mobile").show();e(".url_structure_d").on("change",(function(t){"custom_url"==t.target.value?e(".custom_url_desktop").show(500):e(".custom_url_desktop").hide(500)})),e(".url_structure_m").on("change",(function(t){"custom_url"==t.target.value?e(".custom_url_mobile").show(500):e(".custom_url_mobile").hide(500)}))}();try{!function(){function t(t="09:00"){e(".timepicker_start").timepicker({twelveHour:!1,showClearBtn:!0,defaultTime:t})}function _(t="18:00"){e(".timepicker_end").timepicker({twelveHour:!1,showClearBtn:!0,defaultTime:t})}t(),_(),e(".timepicker_start").on("change",(function(_){t(e(this).val())})),e(".timepicker_end").on("change",(function(t){_(e(this).val())}))}()}catch(e){}try{c(),a()}catch(e){}function c(){e(".ctc_j_timepicker_start").timepicker({timeFormat:"H: mm",scrollbar:!0,interval:60})}function a(){e(".ctc_j_timepicker_end").timepicker({timeFormat:"H: mm",scrollbar:!0,interval:60})}function r(){document.querySelector(".new_intl_number")&&"undefined"!=typeof intlTelInput&&(e(".new_intl_number").each((function(){n(this),e(this).removeClass("new_intl_number"),e(this).addClass("intl_number")})),i())}function s(e){try{M.Collapsible.getInstance(e).close()}catch(e){}}"always"==(_=e(".select_bh").find(":selected").val())?e(".bh_time").hide():"timebase"==_&&e(".bh_time").show(),e(".select_bh").on("change",(function(t){var _=e(".select_bh").find(":selected").val();"always"==_?e(".bh_time").hide(200):"timebase"==_&&e(".bh_time").show(400)})),e(".ctc_day").on("change paste keyup",(function(t){var _=e(this).attr("data-day");e(this).is(":checked")?e(".ctc_time_"+_).css("visibility","visible"):e(".ctc_time_"+_).css("visibility","hidden")})),e(".off_hide").is(":checked")&&e(".offline_hide").hide(),e(".off_hide").on("change paste keyup",(function(t){e(this).is(":checked")?e(".offline_hide").hide(400):e(".offline_hide").show(400)})),document.querySelector(".pr_greetings_template")&&function(){var t=e(".pr_greetings_template select").find(":selected").val();function _(){e(".is_opt_in").is(":checked")?e(".pr_opt_in ").show(200):e(".pr_opt_in ").hide(200)}function n(){e(".ctc_greetings_settings.ctc_g_1").show(),e(".pr_ht_ctc_greetings_pro_1").show(),e(".pr_ht_ctc_greetings_settings").show(),_()}function i(){e(".ctc_greetings_settings.ctc_g_1").show(),e(".pr_ht_ctc_greetings_pro_2").show(),e(".pr_ht_ctc_greetings_settings").show(),_()}"greetings-pro-1"==t&&n(),"greetings-pro-2"==t&&i(),e(".pr_greetings_template select").on("change",(function(t){var _=t.target.value;"greetings-pro-1"!=_&&"greetings-pro-2"!=_||e(" .ctc_greetings_settings").hide(),"greetings-pro-1"==_&&((t=document.querySelector(".g_content_collapsible"))&&s(t),n()),"greetings-pro-2"==_&&((t=document.querySelector(".g_content_collapsible"))&&s(t),i(),e(".ctc_add_agent_button").fadeOut(500).fadeIn(500).fadeOut(500).fadeIn(500))}))}(),function(){var t=e(".ctc_form_snippets .ht_ctc_pro_field");function _(t,_){e(_).find(".g_form_element").hide(100),e(_).find(".g_form_field_type_select").hide(100),e(_).find(".g_form_field_type_hidden").hide(100),e(_).find(".g_form_field_type_placeholder").show(100),e(_).find(".g_form_field_type_required").show(100),"checkbox"==t&&(e(_).find(".g_form_element_checbox").show(100),e(_).find(".g_form_field_type_placeholder").hide(100)),"select"==t&&e(_).find(".g_form_field_type_select").show(100),"number"==t&&e(_).find(".g_form_element_number").show(100),"hidden"==t&&(e(_).find(".g_form_field_type_hidden").show(100),e(_).find(".g_form_element_hidden").show(100),e(_).find(".g_form_field_type_placeholder").hide(100),e(_).find(".g_form_field_type_required").hide(100))}function n(){var t="n";e(".ht_ctc_pro_form_select_field_type").each((function(){"number"==e(this).val()&&(t="y")})),e(".ctc_is_load_intltelinput").val(t),"y"==t?e(".intltelinput_settings").show(400):e(".intltelinput_settings").hide(400)}e(".ctc_add_field_button").on("click",(function(_){var n=t.clone(),i=e(".ht_ctc_pro_form_field_count").val();e(n).find(".ht_ctc_pro_form_field_number").attr("name","ht_ctc_greetings_pro_1[fields][]"),e(n).find(".ht_ctc_pro_form_field_number").val("field_"+i),e(n).find(".ht_ctc_pro_form_select_field_type").attr("name",`ht_ctc_greetings_pro_1[field_${i}][type]`),e(n).find(".ht_ctc_pro_form_select_field_name").attr("name",`ht_ctc_greetings_pro_1[field_${i}][name]`),e(n).find(".ht_ctc_pro_form_select_field_placeholder").attr("name",`ht_ctc_greetings_pro_1[field_${i}][placeholder]`),e(n).find(".ht_ctc_pro_form_select_field_required").attr("name",`ht_ctc_greetings_pro_1[field_${i}][required]`),e(n).find(".ht_ctc_pro_form_select_field_add_to_prefilled").attr("name",`ht_ctc_greetings_pro_1[field_${i}][add_to_prefilled]`),e(n).find(".ht_ctc_pro_form_select_field_selectvalues").attr("name",`ht_ctc_greetings_pro_1[field_${i}][selectvalues]`),e(n).find(".ht_ctc_pro_form_select_field_hiddenvalue").attr("name",`ht_ctc_greetings_pro_1[field_${i}][hiddenvalue]`),e(".ctc_new_fields").append(n),e("select").formSelect(),i++,e(".ht_ctc_pro_form_field_count").val(i)})),e(".ht_ctc_pro_form").on("click",".ht_ctc_pro_form_remove_field_link",(function(t){t.preventDefault(),e(this).closest(".ht_ctc_pro_field").hide(400,(function(t){e(this).remove(),n()}))})),e(".ht_ctc_pro_field").each((function(){_(e(this).find(".ht_ctc_pro_form_select_field_type").val(),this)})),e(".pr_g_p_1_message_box_bg_color").after(e(".intltelinput_settings")),e(".ht_ctc_pro_field, .ctc_new_fields").on("change",".ht_ctc_pro_form_select_field_type",(function(t){var i=e(this).closest(".ht_ctc_pro_field").find(".ht_ctc_pro_form_select_field_type").val(),c=e(this).closest(".ht_ctc_pro_field");"hidden"==i&&e(c).find(".g_form_field_type_add_to_prefilled input").prop("checked",!1),_(i,c),n()})),n()}(),function(){var t=e(".ctc_agent_snippets .ht_ctc_pro_agent");function _(){e(".ht_ctc_pro_agent_field_title").on("input change paste keyup",(function(t){var _=e(this).val();""==_?e(this).closest(".ht_ctc_pro_agent").find(".header_agent_name").html("Agent"):e(this).closest(".ht_ctc_pro_agent").find(".header_agent_name").html(_)})),e(".ref_name").on("input change paste keyup",(function(t){var _=e(this).val();""==_?e(this).closest(".ht_ctc_pro_agent").find(".header_ref_name").html(""):e(this).closest(".ht_ctc_pro_agent").find(".header_ref_name").html(": "+_)})),e(".ht_ctc_pro_agent_field_enable").on("change",(function(t){e(this).is(":checked")?e(this).closest(".ht_ctc_pro_agent").find(".collapsible-header").css({opacity:"1"}):e(this).closest(".ht_ctc_pro_agent").find(".collapsible-header").css({opacity:"0.5"})})),e(".multi_timings input").on("change",(function(t){"set"==e(this).val()?(e(this).closest(".ht_ctc_pro_agent").find(".multi_schedule").show(),e(this).closest(".ht_ctc_pro_agent").find(".current_site_time").show()):(e(this).closest(".ht_ctc_pro_agent").find(".multi_schedule").hide(),e(this).closest(".ht_ctc_pro_agent").find(".current_site_time").hide())})),e(".ht_ctc_pro_agent").on("click",".ht_ctc_pro_agent_remove_time_set_link",(function(t){t.preventDefault(),e(this).closest(".add_time").hide(400,(function(t){e(this).remove()})),e(this).closest(".add_time_here").find(".add_time").length<=1&&e(this).closest(".add_time_here").find(".online_24_content").show()})),e(".day_checkbox").on("change",(function(t){e(this).is(":checked")?e(this).closest(".multi_schedule").find(".add_time_here").show(250):e(this).closest(".multi_schedule").find(".add_time_here").hide(250)}));var t=e(".ctc_agent_snippets .add_time");e(".click_to_add_time").on("click",(function(_){var n=t.clone(),i=e(this).closest(".multi_schedule").attr("data-agent"),r=e(this).closest(".multi_schedule").attr("data-day"),s=e(this).closest(".multi_schedule").find(".add_time").length+1;e(n).find(".add_time_st").attr("name",`ht_ctc_greetings_pro_2[${i}][${r}_times][set_${s}][st]`),e(n).find(".add_time_et").attr("name",`ht_ctc_greetings_pro_2[${i}][${r}_times][set_${s}][et]`),e(this).closest(".today_schedule").find(".online_24_content").hide(),e(this).closest(".add_time_here").find(".add_time_set").append(n),c(),a()})),e(".pr_g_p_2_inital_display select").on("change",(function(t){var _=e(this).val(),n=e(this).closest(".pr_ht_ctc_greetings_pro_2");"agents"==_?(e(n).find(".pr_g_p_2_main_bg_color").hide(100),e(n).find(".pr_g_p_2_message_box_bg_color").hide(100)):(e(n).find(".pr_g_p_2_main_bg_color").show(100),e(n).find(".pr_g_p_2_message_box_bg_color").show(100))}))}e(".ctc_add_agent_button").on("click",(function(n){var i=t.clone(),s=e(".ht_ctc_pro_agent_count").val();e(i).find(".ht_ctc_pro_agent_field_ref_number").attr("name","ht_ctc_greetings_pro_2[agents][]"),e(i).find(".ht_ctc_pro_agent_field_ref_number").val("agent_"+s),e(i).find(".ht_ctc_pro_agent_field_enable").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][enable]`),e(i).find(".ht_ctc_pro_agent_field_ref_name").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][ref_name]`),e(i).find(".ht_ctc_pro_agent_field_number").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][number]`),e(i).find(".ht_ctc_pro_agent_field_number").attr("data-name",`ht_ctc_greetings_pro_2[agent_${s}][number]`),e(i).find(".ht_ctc_pro_agent_field_number").addClass("new_intl_number"),e(i).find(".ht_ctc_pro_agent_field_title").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][title]`),e(i).find(".ht_ctc_pro_agent_field_description").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][description]`),e(i).find(".ht_ctc_pro_agent_field_pre_filled").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][pre_filled]`),e(i).find(".unique_id span").html(`agent_${s}`),e(i).find(".ht_ctc_pro_agent_field_agent_image_id").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][agent_image_id]`),e(i).find(".ht_ctc_pro_agent_field_agent_image_url").attr("name",`ht_ctc_greetings_pro_2[agent_${s}][agent_image_url]`),e(i).find(".ht_ctc_pro_agent_schedule").each((function(t,_){var n=e(_).attr("data-key");e(_).attr("name",`ht_ctc_greetings_pro_2[agent_${s}][${n}]`)})),e(i).find(".multi_schedule").attr("data-agent",`agent_${s}`),e(i).find(".multi_schedule").each((function(t,_){var n=e(_).find(".day_checkbox").attr("data-key");e(_).attr("data-day",n)})),e(i).find(".pr_agent_image").addClass(`image_agent_${s}`),e(i).find(".greetings_multi_agent_image").attr("data-agent",`agent_${s}`),e(i).find(".greetings_multi_agent_remove_image").attr("data-agent",`agent_${s}`),e(".ctc_new_agents").append(i),e(".collapsible").collapsible(),c(),a(),s++,e(".ht_ctc_pro_agent_count").val(s),_(),r()})),e(".ht_ctc_pro_agent").on("click",".ht_ctc_pro_agent_remove_agent_link",(function(t){t.preventDefault(),e(this).closest(".ht_ctc_pro_agent").hide(400,(function(t){e(this).remove()}))})),document.querySelector(".pr_g_p_2_inital_display")&&"content"==e(".pr_g_p_2_inital_display select").val()&&(e(".pr_g_p_2_main_bg_color").removeClass("ctc_init_display_none"),e(".pr_g_p_2_message_box_bg_color").removeClass("ctc_init_display_none")),_()}(),function(){e("#ga_ads").is(":checked")&&e(".ctc_g_ads_values").show(),e("#ga_ads").on("change",(function(t){e("#ga_ads").is(":checked")?e(".ctc_g_ads_values").show(400):e(".ctc_g_ads_values").hide(200)}));var t=e(".ctc_g_ads_param_snippets .ht_ctc_g_ads_add_param");e(document).on("click",".ctc_add_g_ads_param_button",(function(){var _=e(".g_ads_param_order").val();_=parseInt(_);var n=t.clone();e(n).find(".g_ads_param_order_ref_number").attr("name","ht_ctc_othersettings[g_ads_params][]"),e(n).find(".g_ads_param_order_ref_number").val("g_ads_param_"+_),e(n).find(".ht_ctc_g_ads_add_param_key").attr("name",`ht_ctc_othersettings[g_ads_param_${_}][key]`),e(n).find(".ht_ctc_g_ads_add_param_value").attr("name",`ht_ctc_othersettings[g_ads_param_${_}][value]`),e(".ctc_new_g_ads_param").append(n),_++,e(".g_ads_param_order").val(_)}))}(),function(){var t=e(".select_display_countries").find(":selected").val();"all"==t?e(".ctc_display_countries_base").hide():"select"==t&&e(".ctc_display_countries_base").show(),e(".select_display_countries").on("change",(function(t){var _=e(".select_display_countries").find(":selected").val();"all"==_?e(".ctc_display_countries_base").hide(200):"selected"==_&&e(".ctc_display_countries_base").show(400)}));try{"function"==typeof e.fn.SumoSelect&&e(".display_countries_list").SumoSelect({selectAll:!0,search:!0})}catch(e){}}()}))}(jQuery);